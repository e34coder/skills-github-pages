<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Clock, Date, and Prayer Times with Medicine Reminder</title>
  <link rel="stylesheet" href="i2/styles.css">
</head>

<body>

  <div class="container">
    <div class="day-time-box">
      <div class="day-date-container">
        <div class="day" id="day"></div>
        <div class="date" id="date"></div>
      </div>
      <div class="time" id="clock"></div>
    </div>

    <div class="prayer-info">
      <div class="prayer-row">
        <div class="prayer-section">
          <div class="prayer-label">Current</div>
          <div class="prayer-name" id="current-prayer-name"></div>
          <div class="prayer-time" id="current-prayer-time"></div>
        </div>
        
        <div class="separator">||</div>
        
        <div class="prayer-section">
          <div class="prayer-label">Next</div>
          <div class="prayer-name" id="next-prayer-name"></div>
          <div class="prayer-time" id="next-prayer-time"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ðŸ”Š Audio Elements -->
  <audio id="reminderSound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="https://e34coder.github.io/skills-github-pages/sounds/iphone/point-smooth-beep-230573.mp3" type="audio/mpeg">
  </audio>
  
  <!-- Day sounds -->
  <audio id="sundaySound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/sunday.mp3" type="audio/mpeg">
  </audio>
  <audio id="mondaySound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/monday.mp3" type="audio/mpeg">
  </audio>
  <audio id="tuesdaySound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/tuesday.mp3" type="audio/mpeg">
  </audio>
  <audio id="wednesdaySound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/wednesday.mp3" type="audio/mpeg">
  </audio>
  <audio id="thursdaySound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/thursday.mp3" type="audio/mpeg">
  </audio>
  <audio id="fridaySound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/friday.mp3" type="audio/mpeg">
  </audio>
  <audio id="saturdaySound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/saturday.mp3" type="audio/mpeg">
  </audio>
  
  <!-- Time of day sounds -->
  <audio id="medicineTimeSound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/medicine_time.mp3" type="audio/mpeg">
  </audio>
  <audio id="morningSound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/morning.mp3" type="audio/mpeg">
  </audio>
  <audio id="noonSound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/noon.mp3" type="audio/mpeg">
  </audio>
  <audio id="eveningSound" preload="auto" webkit-playsinline="true" playsinline>
    <source src="i2/sounds/evening.mp3" type="audio/mpeg">
  </audio>

  <!-- Test Audio Button -->
  <button id="testAudioBtn" title="Test Audio Reminder">ðŸ”Š</button>

  <!-- Script files -->
  <script src="i2/reminder.js"></script>
  <script src="i2/prayer.js"></script>
  <script src="i2/clock.js"></script>
  <script src="i2/audiotest.js"></script>
  
 <script>
  // ------------------------ INITIALIZATION ------------------------
  
  // Initialize everything
  document.addEventListener('DOMContentLoaded', async () => {
    console.log('Initializing app...');
    
    // Initialize test audio button (this will set up audio context initialization)
    initTestAudioButton();
    
    // Cache audio files on load
    await cacheAudioFiles();
    
    // Initialize location and prayer times
    getLocation();
    
    // Fetch prayer times initially and then every hour
    setInterval(fetchPrayerTimes, 3600000);
    
    console.log('App initialized - Tap screen to initialize audio context');
  });
</script>
</body>

</html>
